<aside class="sidebar" [class.collapsed]="collapsed" *ngIf="hasSubItems()">
  <div class="sidebar-header" *ngIf="currentFeatureNav">
    <h3 class="sidebar-title">{{ currentFeatureNav.title }}</h3>
    <button class="toggle-btn" (click)="toggleSidebarCollapse()" title="Toggle Sidebar">
      {{ collapsed ? '→' : '←' }}
    </button>
  </div>

  <ul class="nav-menu" *ngIf="currentFeatureNav">
    <ng-container *ngFor="let item of currentFeatureNav.subItems">
      <li class="nav-item" *appHasAccess="item.permission">
        <a 
          [routerLink]="item.route"
          [class.active]="isActive(item.route)"
          class="nav-link">
          <span class="nav-icon">{{ item.icon }}</span>
          <span class="nav-text">{{ item.label }}</span>
        </a>
      </li>
    </ng-container>
  </ul>
</aside>
